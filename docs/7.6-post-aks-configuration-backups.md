## üß≠ II. Post-AKS Configuration
---

### 2Ô∏è‚É£ Deploy In-Cluster Components

#### 7.6 Ingress Controllers (prod + dev)
üîπ A. Public Ingress (Production)
#### 7.6.1.Deploy Public Ingress (Production) 
helm repo add ingress-nginx https://kubernetes.github.io/ingress-nginx
helm repo update

kubectl create namespace ingress-prod
helm install ingress-prod ingress-nginx/ingress-nginx \
  --namespace ingress-prod \
  --set controller.ingressClassResource.name=nginx-prod \
  --set controller.ingressClass=nginx-prod \
  --set controller.ingressClassResource.default=false \
  --set controller.ingressClassResource.controllerValue="k8s.io/ingress-nginx-prod" \
  --set controller.ingressClassByName=true \
  --set controller.service.annotations."service\.beta\.kubernetes\.io/azure-load-balancer-resource-group"="marketflow-rg" \
  --set controller.service.annotations."service\.beta\.kubernetes\.io/azure-dns-label-name"="marketflow-prod" \
  --set controller.service.type=LoadBalancer

```
```text
NAME: ingress-prod
LAST DEPLOYED: Mon Oct 27 14:48:32 2025
NAMESPACE: ingress-prod
STATUS: deployed
REVISION: 1
TEST SUITE: None
NOTES:
The ingress-nginx controller has been installed.
It may take a few minutes for the load balancer IP to be available.
You can watch the status by running 'kubectl get service --namespace ingress-prod ingress-prod-ingress-nginx-controller --output wide --watch'

An example Ingress that makes use of the controller:
  apiVersion: networking.k8s.io/v1
  kind: Ingress
  metadata:
    name: example
    namespace: foo
  spec:
    ingressClassName: nginx-prod
    rules:
      - host: www.example.com
        http:
          paths:
            - pathType: Prefix
              backend:
                service:
                  name: exampleService
                  port:
                    number: 80
              path: /
    # This section is only required if TLS is to be enabled for the Ingress
    tls:
      - hosts:
        - www.example.com
        secretName: example-tls

If TLS is enabled for the Ingress, a Secret containing the certificate and key must also be provided:

  apiVersion: v1
  kind: Secret
  metadata:
    name: example-tls
    namespace: foo
  data:
    tls.crt: <base64 encoded cert>
    tls.key: <base64 encoded key>
  type: kubernetes.io/tls
```

kubectl get svc -n ingress-prod
```
NAME                                              TYPE           CLUSTER-IP     EXTERNAL-IP    PORT(S)                      AGE
ingress-prod-ingress-nginx-controller             LoadBalancer   10.0.39.118    4.175.110.82   80:32576/TCP,443:32072/TCP   86s
ingress-prod-ingress-nginx-controller-admission   ClusterIP      10.0.111.145   <none>         443/TCP                      86s
```

kubectl get ingressclass

#### 7.6.2.Deploy Internal Ingress (Development)

kubectl create namespace ingress-dev

helm install ingress-dev ingress-nginx/ingress-nginx \
  --namespace ingress-dev \
  --set controller.ingressClassResource.name=nginx-dev \
  --set controller.ingressClass=nginx-dev \
  --set controller.ingressClassResource.default=false \
  --set controller.ingressClassResource.controllerValue="k8s.io/ingress-nginx-dev" \
  --set controller.ingressClassByName=true \
  --set controller.service.annotations."service\.beta\.kubernetes\.io/azure-load-balancer-internal"="true" \
  --set controller.service.annotations."service\.beta\.kubernetes\.io/azure-load-balancer-resource-group"="marketflow-rg" \
  --set controller.service.type=LoadBalancer

```text
NAME: ingress-dev
LAST DEPLOYED: Mon Oct 27 14:51:56 2025
NAMESPACE: ingress-dev
STATUS: deployed
REVISION: 1
TEST SUITE: None
NOTES:
The ingress-nginx controller has been installed.
It may take a few minutes for the load balancer IP to be available.
You can watch the status by running 'kubectl get service --namespace ingress-dev ingress-dev-ingress-nginx-controller --output wide --watch'

An example Ingress that makes use of the controller:
  apiVersion: networking.k8s.io/v1
  kind: Ingress
  metadata:
    name: example
    namespace: foo
  spec:
    ingressClassName: nginx-dev
    rules:
      - host: www.example.com
        http:
          paths:
            - pathType: Prefix
              backend:
                service:
                  name: exampleService
                  port:
                    number: 80
              path: /
    # This section is only required if TLS is to be enabled for the Ingress
    tls:
      - hosts:
        - www.example.com
        secretName: example-tls

If TLS is enabled for the Ingress, a Secret containing the certificate and key must also be provided:

  apiVersion: v1
  kind: Secret
  metadata:
    name: example-tls
    namespace: foo
  data:
    tls.crt: <base64 encoded cert>
    tls.key: <base64 encoded key>
```

kubectl get svc -n ingress-dev
```txt
NAME                                             TYPE           CLUSTER-IP    EXTERNAL-IP   PORT(S)                      AGE
ingress-dev-ingress-nginx-controller             LoadBalancer   10.0.176.45   10.240.0.6    80:31316/TCP,443:31007/TCP   41s
ingress-dev-ingress-nginx-controller-admission   ClusterIP      10.0.210.88   <none>        443/TCP  
```

kubectl get ingressclass
NAME         CONTROLLER             PARAMETERS   AGE
nginx-dev    k8s.io/ingress-nginx   <none>       105s
nginx-prod   k8s.io/ingress-nginx   <none>       16m

kubectl apply -f k8s/httpbin-prod.yaml

deployment.apps/httpbin created
service/httpbin created
ingress.networking.k8s.io/httpbin-prod created
(data-lab) kinga@mworker1:14:55:22:~/works/marketflow

kubectl apply -f k8s/httpbin-dev.yaml

deployment.apps/httpbin created
service/httpbin created
ingress.networking.k8s.io/httpbin-dev created
(data-lab) kinga@mworker1:14:56:03:~/works/marketflow

kubectl get ingress -A
NAMESPACE         NAME           CLASS        HOSTS                        ADDRESS        PORTS     AGE
marketflow-dev    httpbin-dev    nginx-dev    app0-dev.okondratov.online   10.240.0.6     80        17s
marketflow-prod   httpbin-prod   nginx-prod   app0.okondratov.online       4.175.110.82   80, 443   58s

---
az network nsg show \
  --name marketflow-lb-nsg \
  --resource-group marketflow-rg \
  --query "securityRules[].{Name:name, Access:access, Direction:direction, Protocol:protocol, Port:destinationPortRange, Priority:priority}" \
  -o table
Name                   Access    Direction    Protocol    Port    Priority
---------------------  --------  -----------  ----------  ------  ----------
AllowHTTPHTTPSInbound  Allow     Inbound      Tcp         443     100

az network nsg show \
  --resource-group marketflow-rg \
  --name marketflow-lb-nsg \
  --query "securityRules[].{Name:name, Direction:direction, Access:access, Port:destinationPortRange}" \
  -o table
Name                   Direction    Access    Port
---------------------  -----------  --------  ------
AllowHTTPHTTPSInbound  Inbound      Allow     443

kubectl get certificate -n marketflow-prod
NAME               READY   SECRET             AGE
httpbin-prod-tls   True    httpbin-prod-tls   16m

kubectl describe certificate -n marketflow-prod
Name:         httpbin-prod-tls
Namespace:    marketflow-prod
Labels:       <none>
Annotations:  <none>
API Version:  cert-manager.io/v1
Kind:         Certificate
Metadata:
  Creation Timestamp:  2025-10-27T13:55:22Z
  Generation:          1
  Owner References:
    API Version:           networking.k8s.io/v1
    Block Owner Deletion:  true
    Controller:            true
    Kind:                  Ingress
    Name:                  httpbin-prod
    UID:                   f60d53f6-4b34-4189-9862-28bd787121ef
  Resource Version:        28253
  UID:                     c5706c4b-dadf-4187-bc07-7b0b493a3e0e
Spec:
  Dns Names:
    app0.okondratov.online
  Issuer Ref:
    Group:      cert-manager.io
    Kind:       ClusterIssuer
    Name:       letsencrypt-prod
  Secret Name:  httpbin-prod-tls
  Usages:
    digital signature
    key encipherment
Status:
  Conditions:
    Last Transition Time:  2025-10-27T13:55:24Z
    Message:               Certificate is up to date and has not expired
    Observed Generation:   1
    Reason:                Ready
    Status:                True
    Type:                  Ready
  Not After:               2026-01-25T12:56:52Z
  Not Before:              2025-10-27T12:56:53Z
  Renewal Time:            2025-12-26T12:56:52Z
  Revision:                1
Events:
  Type    Reason     Age   From                                       Message
  ----    ------     ----  ----                                       -------
  Normal  Issuing    16m   cert-manager-certificates-trigger          Issuing certificate as Secret does not exist
  Normal  Generated  16m   cert-manager-certificates-key-manager      Stored new private key in temporary Secret resource "httpbin-prod-tls-jw7ws"
  Normal  Requested  16m   cert-manager-certificates-request-manager  Created new CertificateRequest resource "httpbin-prod-tls-1"
  Normal  Issuing    16m   cert-manager-certificates-issuing          The certificate has been successfully issued

  ---
kubectl port-forward -n ingress-prod svc/ingress-prod-ingress-nginx-controller 8443:443

curl -vk -H "Host: app0.okondratov.online" https://localhost:8443/get --insecure
* Host localhost:8443 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
*   Trying [::1]:8443...
* ALPN: curl offers h2,http/1.1
* TLSv1.3 (OUT), TLS handshake, Client hello (1):
* TLSv1.3 (IN), TLS handshake, Server hello (2):
* TLSv1.3 (IN), TLS handshake, Encrypted Extensions (8):
* TLSv1.3 (IN), TLS handshake, Certificate (11):
* TLSv1.3 (IN), TLS handshake, CERT verify (15):
* TLSv1.3 (IN), TLS handshake, Finished (20):
* TLSv1.3 (OUT), TLS change cipher, Change cipher spec (1):
* TLSv1.3 (OUT), TLS handshake, Finished (20):
* SSL connection using TLSv1.3 / TLS_AES_256_GCM_SHA384 / X25519 / RSASSA-PSS
* ALPN: server accepted h2
* Server certificate:
*  subject: O=Acme Co; CN=Kubernetes Ingress Controller Fake Certificate
*  start date: Oct 27 13:48:40 2025 GMT
*  expire date: Oct 27 13:48:40 2026 GMT
*  issuer: O=Acme Co; CN=Kubernetes Ingress Controller Fake Certificate
*  SSL certificate verify result: self-signed certificate (18), continuing anyway.
*   Certificate level 0: Public key type RSA (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
* Connected to localhost (::1) port 8443
* using HTTP/2
* [HTTP/2] [1] OPENED stream for https://localhost:8443/get
* [HTTP/2] [1] [:method: GET]
* [HTTP/2] [1] [:scheme: https]
* [HTTP/2] [1] [:authority: app0.okondratov.online]
* [HTTP/2] [1] [:path: /get]
* [HTTP/2] [1] [user-agent: curl/8.12.1]
* [HTTP/2] [1] [accept: */*]
> GET /get HTTP/2
> Host: app0.okondratov.online
> User-Agent: curl/8.12.1
> Accept: */*
> 
* Request completely sent off
* TLSv1.3 (IN), TLS handshake, Newsession Ticket (4):
* TLSv1.3 (IN), TLS handshake, Newsession Ticket (4):
< HTTP/2 200 
< date: Mon, 27 Oct 2025 14:16:37 GMT
< content-type: application/json
< content-length: 318
< access-control-allow-origin: *
< access-control-allow-credentials: true
< strict-transport-security: max-age=31536000; includeSubDomains
< 
{
  "args": {}, 
  "headers": {
    "Accept": "*/*", 
    "Host": "app0.okondratov.online", 
    "User-Agent": "curl/8.12.1", 
    "X-Forwarded-Host": "app0.okondratov.online", 
    "X-Forwarded-Scheme": "https", 
    "X-Scheme": "https"
  }, 
  "origin": "127.0.0.1", 
  "url": "https://app0.okondratov.online/get"
}
* Connection #0 to host localhost left intact

> kubectl get secret httpbin-prod-tls -n marketflow-prod
NAME               TYPE                DATA   AGE
httpbin-prod-tls   kubernetes.io/tls   2      24m
(data-lab) kinga@mworker1:15:20:07:~/works/marketflow
> kubectl get secret httpbin-prod-tls -n marketflow-prod -o jsonpath='{.data.tls\.crt}' | base64 -d > tls.crt
(data-lab) kinga@mworker1:15:20:47:~/works/marketflow
> kubectl get secret httpbin-prod-tls -n marketflow-prod -o jsonpath='{.data.tls\.key}' | base64 -d > tls.key
(data-lab) kinga@mworker1:15:21:00:~/works/marketflow
> ls -lh tls.crt tls.key
-rw-rw-r-- 1 kinga kinga 3.6K Oct 27 15:20 tls.crt
-rw-rw-r-- 1 kinga kinga 1.7K Oct 27 15:21 tls.key
(data-lab) kinga@mworker1:15:21:08:~/works/marketflow
> openssl x509 -in tls.crt -text -noout
Certificate:
    Data:
        Version: 3 (0x2)
        Serial Number:
            05:b2:7b:62:ca:8e:a8:d1:16:24:29:7d:72:e0:14:2a:77:17
        Signature Algorithm: sha256WithRSAEncryption
        Issuer: C=US, O=Let's Encrypt, CN=R13
        Validity
            Not Before: Oct 27 12:56:53 2025 GMT
            Not After : Jan 25 12:56:52 2026 GMT
        Subject: CN=app0.okondratov.online
        Subject Public Key Info:
            Public Key Algorithm: rsaEncryption
                Public-Key: (2048 bit)
                Modulus:
                    00:c5:08:0b:af:28:ef:f2:6a:fc:ea:ea:8a:1c:72:
                    87:59:9d:d9:80:fb:96:ab:ab:03:39:5a:41:b5:8f:
                    78:22:fd:b1:96:89:8d:83:5d:42:ba:09:b1:a0:e5:
                    2f:39:d0:fc:63:d0:67:68:96:39:68:ff:8d:76:e6:
                    44:8c:75:ff:cd:79:1e:cd:ab:c6:b3:5d:ca:bf:b3:
                    2e:e4:c1:cb:13:59:f3:eb:ed:31:48:d6:07:86:48:
                    58:c8:05:d4:c6:14:53:90:c6:b3:e7:9b:30:10:ee:
                    ed:27:e1:9d:a1:65:4e:02:ff:a1:a3:0d:7d:9c:26:
                    23:88:c3:3c:5f:c6:04:bc:04:1a:74:3a:06:4c:cb:
                    9e:0e:b4:da:1a:ed:65:1e:53:71:03:31:86:3d:d0:
                    b6:f9:15:71:cb:74:ab:3f:1d:b6:dd:bd:25:ca:a8:
                    16:7a:92:59:fd:d3:96:cf:6f:0a:c1:62:38:63:2e:
                    dc:97:bb:a0:b6:a7:ca:e0:92:a8:87:89:56:c3:71:
                    c6:5d:6b:2d:b8:e3:3a:13:30:e4:c4:b2:2e:f8:48:
                    c6:65:de:71:fe:d0:cc:51:96:14:30:15:b7:a1:0a:
                    77:51:44:dc:e2:15:db:b4:de:8e:ad:bc:f3:e3:82:
                    01:7c:55:d4:57:b8:62:1b:5a:e4:97:b6:d5:f2:cc:
                    c8:55
                Exponent: 65537 (0x10001)
        X509v3 extensions:
            X509v3 Key Usage: critical
                Digital Signature, Key Encipherment
            X509v3 Extended Key Usage: 
                TLS Web Server Authentication, TLS Web Client Authentication
            X509v3 Basic Constraints: critical
                CA:FALSE
            X509v3 Subject Key Identifier: 
                4D:3A:2E:70:E9:1F:05:36:1E:E9:6D:62:FD:25:3E:B5:3D:58:62:E9
            X509v3 Authority Key Identifier: 
                E7:AB:9F:0F:2C:33:A0:53:D3:5E:4F:78:C8:B2:84:0E:3B:D6:92:33
            Authority Information Access: 
                CA Issuers - URI:http://r13.i.lencr.org/
            X509v3 Subject Alternative Name: 
                DNS:app0.okondratov.online
            X509v3 Certificate Policies: 
                Policy: 2.23.140.1.2.1
            X509v3 CRL Distribution Points: 
                Full Name:
                  URI:http://r13.c.lencr.org/24.crl

            CT Precertificate SCTs: 
                Signed Certificate Timestamp:
                    Version   : v1 (0x0)
                    Log ID    : 64:11:C4:6C:A4:12:EC:A7:89:1C:A2:02:2E:00:BC:AB:
                                4F:28:07:D4:1E:35:27:AB:EA:FE:D5:03:C9:7D:CD:F0
                    Timestamp : Oct 27 13:55:23.639 2025 GMT
                    Extensions: none
                    Signature : ecdsa-with-SHA256
                                30:44:02:20:30:C9:57:8D:92:83:54:92:70:28:50:2A:
                                B5:A1:F7:77:C8:26:2B:67:AA:C9:EB:55:D1:C4:F9:67:
                                07:88:D8:AD:02:20:0C:8C:81:A9:AF:F5:96:E6:5F:DF:
                                4E:CE:E8:1C:D3:57:C3:AC:5E:1C:85:A4:89:15:3F:C7:
                                4D:D3:C0:3F:84:97
                Signed Certificate Timestamp:
                    Version   : v1 (0x0)
                    Log ID    : 0E:57:94:BC:F3:AE:A9:3E:33:1B:2C:99:07:B3:F7:90:
                                DF:9B:C2:3D:71:32:25:DD:21:A9:25:AC:61:C5:4E:21
                    Timestamp : Oct 27 13:55:23.642 2025 GMT
                    Extensions: none
                    Signature : ecdsa-with-SHA256
                                30:45:02:21:00:98:F0:43:EB:2A:95:B3:29:FD:10:30:
                                57:42:EF:61:DF:B8:D2:E0:76:D1:55:33:0F:1C:1F:D2:
                                E1:F9:61:BD:39:02:20:42:CF:8E:18:EB:A2:8F:D1:CD:
                                5A:9F:0D:A3:0C:16:AD:1E:C8:6D:60:1B:C2:28:3E:B1:
                                5B:1F:A8:8B:2F:7E:5D
    Signature Algorithm: sha256WithRSAEncryption
    Signature Value:
        78:2a:17:92:cc:6f:49:2a:2a:12:a5:f3:ac:0e:50:2a:61:76:
        00:8c:71:46:94:c9:84:e4:1c:14:ef:cf:63:c0:82:c9:45:18:
        cd:94:1e:ea:0a:6a:fa:ea:f2:97:e6:64:0c:1e:85:2b:66:d5:
        dd:de:68:e7:60:98:2b:f5:e1:0d:2a:94:3f:de:96:a9:0b:85:
        f1:db:3a:38:d6:bc:94:bb:3c:6f:ee:2f:6e:e2:04:78:10:3d:
        62:a4:7f:16:d1:cd:d7:90:5e:51:fa:ed:5d:6f:19:92:36:b5:
        0c:de:36:58:cf:b3:00:f6:ee:b0:f5:fb:2b:53:b0:92:7a:8e:
        3b:ba:64:58:99:57:20:6f:fa:15:ca:c9:2c:7a:b5:40:cc:cd:
        56:45:8b:16:b9:2e:4b:15:db:fb:f7:14:f8:bc:47:57:99:52:
        c6:89:e3:53:b6:ad:6f:0e:65:88:c0:93:75:e4:75:c0:72:11:
        7a:2f:5f:97:c0:0d:33:30:a1:b7:a0:44:fe:94:53:63:13:ef:
        10:3f:60:13:95:49:08:61:a8:63:fc:c4:aa:56:2d:1f:64:b5:
        ed:f4:99:02:86:e5:a6:a7:7f:8b:31:f5:c9:49:00:21:05:43:
        d2:b3:ff:d3:9c:94:2f:f5:61:21:85:e7:bd:c6:bf:ea:cb:9f:
        42:d5:fb:5e

Add DNS A record 4.175.110.82

openssl x509 -in tls.crt -noout -subject -issuer -dates
subject=CN=app0.okondratov.online
issuer=C=US, O=Let's Encrypt, CN=R13
notBefore=Oct 27 12:56:53 2025 GMT
notAfter=Jan 25 12:56:52 2026 GMT

> nslookup app0.okondratov.online
Server:         127.0.0.53
Address:        127.0.0.53#53

Non-authoritative answer:
Name:   app0.okondratov.online
Address: 4.175.110.82

> dig +short app0.okondratov.online
4.175.110.82

ping app0.okondratov.online

PING app0.okondratov.online (4.175.110.82): 56 data bytes
36 bytes from 4.175.110.82: Destination Host Unreachable
36 bytes from 4.175.110.82: Destination Host Unreachable
36 bytes from 4.175.110.82: Destination Host Unreachable

 kubectl -n ingress-prod get svc ingress-prod-ingress-nginx-controller -o yaml | grep -A5 "annotations"
  annotations:
    meta.helm.sh/release-name: ingress-prod
    meta.helm.sh/release-namespace: ingress-prod
    service.beta.kubernetes.io/azure-dns-label-name: marketflow-prod
    service.beta.kubernetes.io/azure-load-balancer-resource-group: marketflow-rg
  creationTimestamp: "2025-10-27T13:48:39Z"

> kubectl -n ingress-prod patch svc ingress-prod-ingress-nginx-controller \
  -p '{"metadata":{"annotations":{"service.beta.kubernetes.io/azure-load-balancer-health-probe-request-path":"/healthz"}}}'
service/ingress-prod-ingress-nginx-controller patched

> kubectl -n ingress-prod get svc ingress-prod-ingress-nginx-controller -o yaml | grep -A5 "annotations"
  annotations:
    meta.helm.sh/release-name: ingress-prod
    meta.helm.sh/release-namespace: ingress-prod
    service.beta.kubernetes.io/azure-dns-label-name: marketflow-prod
    service.beta.kubernetes.io/azure-load-balancer-health-probe-request-path: /healthz
    service.beta.kubernetes.io/azure-load-balancer-resource-group: marketflow-rg

> kubectl -n ingress-prod patch svc ingress-prod-ingress-nginx-controller \
  -p '{"spec":{"externalTrafficPolicy":"Cluster"}}'
service/ingress-prod-ingress-nginx-controller patched (no change)

> az network lb show -g MC_marketflow-rg_marketflow-aks_westeurope -n kubernetes --query "backendAddressPools[].backendIPConfigurations[].ipAddress"
[]

curl -vk https://app0.okondratov.online/get
* Host app0.okondratov.online:443 was resolved.
* IPv6: (none)
* IPv4: 4.175.110.82
*   Trying 4.175.110.82:443...
* ALPN: curl offers h2,http/1.1
* TLSv1.3 (OUT), TLS handshake, Client hello (1):
* TLSv1.3 (IN), TLS handshake, Server hello (2):
* TLSv1.3 (IN), TLS handshake, Encrypted Extensions (8):
* TLSv1.3 (IN), TLS handshake, Certificate (11):
* TLSv1.3 (IN), TLS handshake, CERT verify (15):
* TLSv1.3 (IN), TLS handshake, Finished (20):
* TLSv1.3 (OUT), TLS change cipher, Change cipher spec (1):
* TLSv1.3 (OUT), TLS handshake, Finished (20):
* SSL connection using TLSv1.3 / TLS_AES_256_GCM_SHA384 / X25519 / RSASSA-PSS
* ALPN: server accepted h2
* Server certificate:
*  subject: CN=app0.okondratov.online
*  start date: Oct 27 12:56:53 2025 GMT
*  expire date: Jan 25 12:56:52 2026 GMT
*  issuer: C=US; O=Let's Encrypt; CN=R13
*  SSL certificate verify result: unable to get local issuer certificate (20), continuing anyway.
*   Certificate level 0: Public key type RSA (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 1: Public key type RSA (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
* Connected to app0.okondratov.online (4.175.110.82) port 443
* using HTTP/2
* [HTTP/2] [1] OPENED stream for https://app0.okondratov.online/get
* [HTTP/2] [1] [:method: GET]
* [HTTP/2] [1] [:scheme: https]
* [HTTP/2] [1] [:authority: app0.okondratov.online]
* [HTTP/2] [1] [:path: /get]
* [HTTP/2] [1] [user-agent: curl/8.12.1]
* [HTTP/2] [1] [accept: */*]
> GET /get HTTP/2
> Host: app0.okondratov.online
> User-Agent: curl/8.12.1
> Accept: */*
> 
* Request completely sent off
* TLSv1.3 (IN), TLS handshake, Newsession Ticket (4):
* TLSv1.3 (IN), TLS handshake, Newsession Ticket (4):
< HTTP/2 200 
< date: Mon, 27 Oct 2025 14:43:27 GMT
< content-type: application/json
< content-length: 319
< access-control-allow-origin: *
< access-control-allow-credentials: true
< strict-transport-security: max-age=31536000; includeSubDomains
< 
{
  "args": {}, 
  "headers": {
    "Accept": "*/*", 
    "Host": "app0.okondratov.online", 
    "User-Agent": "curl/8.12.1", 
    "X-Forwarded-Host": "app0.okondratov.online", 
    "X-Forwarded-Scheme": "https", 
    "X-Scheme": "https"
  }, 
  "origin": "10.240.0.4", 
  "url": "https://app0.okondratov.online/get"
}
* Connection #0 to host app0.okondratov.online left intact